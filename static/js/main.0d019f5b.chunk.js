(this["webpackJsonpkloop-map"]=this["webpackJsonpkloop-map"]||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var o=n(2),a=n.n(o),r=n(62),i=n.n(r),c=(n(88),n(63)),s=n(64),l=n(68),u=n(66),m=n(25),h=n(67),p=n(48),f=n(8),d=n(60),g=Object(o.memo)((function(e){var t=Object(o.useState)([0,0]),n=Object(p.a)(t,2),r=Object(p.a)(n[0],2),i=r[0],c=r[1],s=n[1];Object(o.useLayoutEffect)((function(){function e(){s([window.innerWidth+10,window.innerHeight-5])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]);var l=Object(m.d)().domain([0,10]).interpolator(Object(m.c)("white","orange")),u=function(e){return l(h(e).sum)},h=function(t){var n="";return e.data.map((function(e){e.name===t&&(n=e)})),n};return a.a.createElement(a.a.Fragment,null,a.a.createElement(f.ComposableMap,{"data-tip":"",projection:"geoEqualEarth",width:i,height:c,projectionConfig:{scale:e.scale}},a.a.createElement(f.ZoomableGroup,{center:[74.5,41.2],minZoom:1,maxZoom:1,zoom:1},a.a.createElement(f.Geographies,{geography:"https://raw.githubusercontent.com/aTNa-Lab/RepForTests/master/kg_map_osh_bishkek.json"},(function(t){var n=t.geographies;return a.a.createElement(a.a.Fragment,null,n.map((function(t){return a.a.createElement(f.Geography,{key:t.rsmKey,geography:t,onMouseEnter:function(){e.setTooltipContent(h(t.properties.name))},onMouseLeave:function(){e.setTooltipContent("")},fill:u(t.properties.name),stroke:"#FFF",strokeWidth:"0.01",style:{default:{outline:"none"},hover:{outline:"none"},pressed:{outline:"none"}}})})),n.map((function(t){var n=Object(d.a)(t);return a.a.createElement("g",{key:t.rsmKey+"-name"},a.a.createElement(f.Marker,{coordinates:n},a.a.createElement("text",{fontSize:e.font,textAnchor:"middle"},h(t.properties.name).trueName)))})))})),a.a.createElement(f.Geographies,{geography:"https://raw.githubusercontent.com/aTNa-Lab/RepForTests/master/Bishkek_v2.json"},(function(t){var n=t.geographies;return a.a.createElement(a.a.Fragment,null,n.map((function(t){return a.a.createElement(f.Geography,{key:t.rsmKey,geography:t,fill:u("\u0411\u0438\u0448\u043a\u0435\u043a"),onMouseEnter:function(){e.setTooltipContent(h("\u0411\u0438\u0448\u043a\u0435\u043a"))},onMouseLeave:function(){e.setTooltipContent("")},stroke:"#FFF",strokeWidth:"0.01",style:{default:{outline:"none"},hover:{outline:"none"},pressed:{outline:"none"}}})})),n.map((function(t){var n=Object(d.a)(t);return a.a.createElement("g",{key:t.rsmKey+"-name"},a.a.createElement(f.Marker,{coordinates:n},a.a.createElement("text",{fontSize:e.font,textAnchor:"middle"},h("\u0411\u0438\u0448\u043a\u0435\u043a").trueName)))})))})),a.a.createElement(f.Geographies,{geography:"https://raw.githubusercontent.com/aTNa-Lab/RepForTests/master/Osh.json"},(function(t){var n=t.geographies;return a.a.createElement(a.a.Fragment,null,n.map((function(t){return a.a.createElement(f.Geography,{key:t.rsmKey,geography:t,onMouseEnter:function(){e.setTooltipContent(h("\u041e\u0448"))},onMouseLeave:function(){e.setTooltipContent("")},fill:u("\u041e\u0448"),stroke:"#FFF",strokeWidth:"0.01",style:{default:{outline:"none"},hover:{outline:"none"},pressed:{outline:"none"}}})})),n.map((function(t){var n=Object(d.a)(t);return a.a.createElement("g",{key:t.rsmKey+"-name"},a.a.createElement(f.Marker,{coordinates:n},a.a.createElement("text",{fontSize:e.font,textAnchor:"middle"},h("\u041e\u0448").trueName)))})))})))))})),E=(n(91),n(92)),y=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={data:{},ready:!1,width:window.innerWidth,height:window.innerHeight-5,content:"",scale:3e3,font:4},e.setTooltipContent=function(t){var n;n=t?"".concat(t.name," \u2014 ").concat(t.sum):t,e.setState({content:n})},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=E.parse(window.location.search,{decode:!1});console.log(t),t.url&&Object(m.a)(t.url).then((function(t){e.setState({data:t,ready:!0}),console.log("DATA",t),console.log("Min/Max",Object(m.b)(t.map((function(e){return e.sum}))))})),t.scale&&this.setState({scale:t.scale}),t.font&&this.setState({font:t.font})}},{key:"render",value:function(){return this.state.ready?a.a.createElement("div",null,a.a.createElement(g,{data:this.state.data,setTooltipContent:this.setTooltipContent,scale:this.state.scale,font:this.state.font}),a.a.createElement(h.a,null,this.state.content)):null}}]),n}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},83:function(e,t,n){e.exports=n(106)},88:function(e,t,n){},91:function(e,t,n){}},[[83,1,2]]]);
//# sourceMappingURL=main.0d019f5b.chunk.js.map